server:
  host: "0.0.0.0"
  port: 8081
  request_timeout: 30
  request_tracing: true

backends:
  - id: "local-mock"
    type: "local"
    command: "python3 e2e_tests/mock_backend/mock_server.py 9000"
    upstream_url: "http://127.0.0.1:9000"
    resources:
      memory: "1000Mi"
    upstream_timeout: 10

  - id: "local-mock2"
    type: "local"
    command: "python3 e2e_tests/mock_backend/mock_server.py 9001"
    upstream_url: "http://127.0.0.1:9001"
    resources:
      memory: "1000Mi"

    upstream_timeout: 10
  - id: "remote-mock"
    type: "remote"
    endpoint: "http://127.0.0.1:9000/v1"
    model: "remote-mock"
    upstream_timeout: 10

  - id: "timeout-model"
    type: "remote"
    endpoint: "http://127.0.0.1:9999"
    model: "timeout-model"
    upstream_timeout: 2

  - id: "local-embeddings-mock"
    type: "local-embeddings"
    command: "python3 e2e_tests/mock_backend/mock_server.py 9002"
    upstream_url: "http://127.0.0.1:9002"
    resources:
      memory: "100Mi"
    upstream_timeout: 10

  - id: "stub-warmup"
    type: "local-stub"
    command: "python3 e2e_tests/mock_backend/mock_server.py 9003"
    upstream_url: "http://127.0.0.1:9003"
    resources:
      memory: "100Mi"
    upstream_timeout: 10

resources:
  total_memory: "1200Mi"
